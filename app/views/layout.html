<!--
  This is the main layout where you can:
    - change the header and footer
    - add custom CSS and JavaScript
-->

<!-- Extends the prototype kit template which in turn extends the NHS.UK frontend template -->
{% extends "prototype-kit-template.njk" %}

{% block head %}
  <!-- Add your custom CSS or Sass in /app/assets/sass/main.scss -->
  <link href="/css/main.css" rel="stylesheet">
{% endblock %}

<!-- Edit the header -->
<!-- Header code examples can be found at https://service-manual.nhs.uk/design-system/components/header -->
{% block header %}
  {%- from 'cookie-banner/macro.njk' import cookieBanner %}
  {{ cookieBanner({
       policyUrl: "/mvp/v5/cookies/cookies",
       linkText: "read more about our cookies",
       cookieBannerHeading: "Cookies on Pension Estimate Calculator",
       cookieBannerContent: [
          "We have put some small files called cookies on your device to make our site work.", 
          "We would also like to use analytics cookies. These send anonymous information about how our site is used to a service called Google Analytics. We use this information to improve our site.",
          "Let us know if this is OK. We will use a cookie to save your choice across all our digital services for the next 3 calendar months. You can <a href=\"/mvp/v5/cookies/cookies\">read more about our cookies</a> before you choose."],
       okButtonText: "I'm OK with analytics cookies",
       notOkButtonText: "Do not use analytics cookies",
       successBannerMessage: "Cookie preferences - {{bannerSuccessHref}}",
       successLinkText: "Click here",
       bannerSuccessHref: "/mvp/v5/cookies/cookies",
       cookieVersion: 1
    }) }}
    {% from 'header/macro.njk' import header %}

    {{ header({
      logo: {
        href: "#",
        ariaLabel: "Manage patients homepage"
      },
      service: {
        text: "Pension Estimate calculator",
        href: "/"
      },
      account: {
        items: [
          {
            text: "Tom Jones",
            icon: true
          },
          {
            text: "Log out",
            href: "/"
          }
        ]
      }
    }) }}

  <div class="beta-banner">
    <div class="nhsuk-width-container">
        <p class="nhsuk-phase-banner__content">
            <strong class="nhsuk-tag nhsuk-phase-banner__content__tag">
                Beta
            </strong>
            <span class="nhsuk-phase-banner__text">
                This is a new service - your <a class="nhsuk-link" href="#">feedback</a> will help us to improve it.
            </span>
        </p>
    </div>
  </div>
{% endblock %}

{% block beforeContent %}

{% from 'back-link/macro.njk' import backLink %}
{% if not hideBack %}
  <div class="nhsuk-width-container">
    {{ backLink({
      "href": "javascript:history.go(-1)",
      "text": "Back"
    }) }}
  </div>
{% endif %}

{% endblock %}

<!-- Edit the footer -->
<!-- Footer code examples can be found at https://service-manual.nhs.uk/design-system/components/footer -->
{% block footer %}
  {{ footer({
    meta: {
      items: [
        {
          href: "https://www.nhsbsa.nhs.uk/our-policies/privacy",
          text: "Privacy policy"
        },
        {
          href: "/mvp/v5/cookies/cookie-information",
          text: "Cookies"
        },
        {
          href: "https://www.nhsbsa.nhs.uk/our-policies/terms-and-conditions",
          text: "Terms and conditions"
        },
        {
          href: "#",
          text: "Accessibility statement"
        }
      ]
    },
    copyright:{
      html: "&copy; Crown copyright"
    }
  }) }}
{% endblock %}

{% block bodyEnd %}
  <script src="/nhsuk-frontend/nhsuk-frontend.min.js" type="module"></script>
  <script type="module">
    import { initAll } from '/nhsuk-frontend/nhsuk-frontend.min.js'
    initAll()
  </script>
  {% block scripts %}
    <script src="/cookie-banner.js" defer></script>
    <!-- Custom JavaScript files can be added to this file -->
    {% include "includes/scripts.html" %}
    <!-- For adding page specific JavaScript -->
    {% block pageScripts %}{% endblock %}
  {% endblock %}
{% endblock %}
